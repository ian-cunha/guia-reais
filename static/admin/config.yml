backend:
  name: git-gateway
  branch: main

media_folder: "static/img"
public_folder: "/img"

collections:

  # 1) Coleção única para Tutoriais
  - name: "tutoriais"
    label: "Tutoriais"
    folder: "docs/tutoriais"
    create: true
    extension: "md"
    format: "frontmatter"
    path: "{{slug}}.md"
    fields:
      - { label: "Título",    name: "title",   widget: "string" }
      - { label: "Conteúdo",  name: "body",    widget: "markdown" }
      - label: "Categoria"
        name: "category"
        widget: "relation"
        collection: "tutorial_categories"
        display_fields: ["label"]
        value_field:    "slug"
        search_fields:  ["label"]
        create: true
        required: false

  # 2) Coleção única para Documentos de API
  - name: "api_docs"
    label: "API Referências"
    folder: "docs/api-referencias"
    create: true
    extension: "md"
    format: "frontmatter"
    path: "{{slug}}.md"
    fields:
      - { label: "Título",    name: "title",  widget: "string" }
      - { label: "Conteúdo",  name: "body",   widget: "markdown" }
      - label: "Categoria"
        name: "category"
        widget: "relation"
        collection: "api_categories"
        display_fields: ["label"]
        value_field:    "slug"
        search_fields:  ["label"]
        create: true
        required: false

  # 3) Coleção de suporte para armazenar as categorias de Tutoriais
  - name: "tutorial_categories"
    label: "Categorias – Tutoriais"
    folder: "docs/tutoriais"
    create: true
    path: "{{slug}}/_category_.json"
    extension: "json"
    format: "json"
    slug: "{{fields.label}}"
    fields:
      - { label: "Nome da Categoria", name: "label",    widget: "string" }
      - { label: "Ordem no Menu",      name: "position", widget: "number", default: 99 }

  # 4) Coleção de suporte para armazenar as categorias de API
  - name: "api_categories"
    label: "Categorias – API"
    folder: "docs/api-referencias"
    create: true
    path: "{{slug}}/_category_.json"
    extension: "json"
    format: "json"
    slug: "{{fields.label}}"
    fields:
      - { label: "Nome da Categoria", name: "label",     widget: "string" }
      - { label: "Ordem no Menu",      name: "position",  widget: "number", default: 99 }
